<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple Morphing Navigation</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: Arial, sans-serif; background: #111; color: #fff; }
        
        header { position: fixed; top: 0; left: 0; width: 100%; height: 40px; background: #0057b8; z-index: 30; }
        
        .hero { position: relative; width: 100%; height: 758px; background: #000; }
        .overlay { position: absolute; inset: 0; background: linear-gradient(to top, rgba(0,0,0,0.7), rgba(0,0,0,0.2)); }
        
        .red-nav {
            position: absolute; left: 50%; bottom: 0; transform: translateX(-50%);
            width: 85%; height: 80px; background: #c8091e;
            border-radius: 60px 60px 0 0; box-shadow: 0 4px 20px rgba(0,0,0,0.3);
            z-index: 20; transition: border-radius 0.6s ease;
            display: flex; align-items: center; justify-content: center;
        }
        .red-nav.morph {
            position: fixed; top: 40px; border-radius: 0 0 60px 60px; z-index: 25;
        }
        
        .content { height: 2000px; background: linear-gradient(#111, #222, #333); display: flex; align-items: center; justify-content: center; font-size: 2rem; color: #bbb; }
    </style>
</head>
<body>
    <header id="topHeader"></header>
    
    <div class="hero" id="hero">
        <div class="overlay"></div>
        <nav class="red-nav" id="morphNav">RED NAV</nav>
    </div>
    
    <div class="content">Scroll down to see morphing effect</div>

    <script>
        const nav = document.getElementById('morphNav');
        const header = document.getElementById('topHeader');
        const hero = document.getElementById('hero');
        
        const HYSTERESIS = 24;
        let triggerY = 0;
        let isMorphed = false;
        let ticking = false;

        function computeTriggerY() {
            return hero.offsetTop + hero.offsetHeight - nav.offsetHeight - header.offsetHeight;
        }

        function updateOnScroll() {
            const y = window.pageYOffset || document.documentElement.scrollTop;
            
            if (!isMorphed && y >= triggerY) {
                nav.classList.add('morph');
                isMorphed = true;
            } else if (isMorphed && y <= triggerY - HYSTERESIS) {
                nav.classList.remove('morph');
                isMorphed = false;
            }
        }

        function onScroll() {
            if (!ticking) {
                requestAnimationFrame(() => {
                    updateOnScroll();
                    ticking = false;
                });
                ticking = true;
            }
        }

        function init() {
            triggerY = computeTriggerY();
            updateOnScroll();
        }

        window.addEventListener('scroll', onScroll, { passive: true });
        window.addEventListener('resize', init);
        window.addEventListener('load', init);
        init();
    </script>
</body>
</html>